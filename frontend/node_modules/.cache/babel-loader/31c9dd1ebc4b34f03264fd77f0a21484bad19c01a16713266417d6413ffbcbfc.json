{"ast":null,"code":"var _jsxFileName = \"/Users/alin/Documents/Saves/idiot-2/idiot/Project-Pokemon/frontend/src/components/TrainerList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport SortableTable from './SortableTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrainerList = () => {\n  _s();\n  const [trainers, setTrainers] = useState([]);\n  useEffect(() => {\n    const fetchTrainers = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/trainers');\n        const validTrainers = response.data.data.filter(trainer => trainer.pwtr_rating !== null);\n        const trainersWithName = validTrainers.map((trainer, index) => ({\n          ...trainer,\n          name: `${trainer.fname} ${trainer.lname}`,\n          rank: index + 1 // Assuming trainers are sorted by rank already\n        }));\n        setTrainers(trainersWithName);\n      } catch (error) {\n        console.error('Error fetching trainers:', error);\n      }\n    };\n    fetchTrainers();\n  }, []);\n  const columns = [{\n    key: 'rank',\n    label: 'Rank'\n  }, {\n    key: 'name',\n    label: 'Name'\n  }, {\n    key: 'pwtr_rating',\n    label: 'Rating',\n    render: item => item.pwtr_rating.toFixed(2)\n  }, {\n    key: 'region_name',\n    label: 'Region'\n  }, {\n    key: 'title',\n    label: 'Title',\n    render: item => item.title !== 'None' ? item.title : ''\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"PWTR List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SortableTable, {\n      columns: columns,\n      data: trainers,\n      itemsPerPage: 20,\n      withPagination: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(TrainerList, \"39NCkvgJxdNr+NBlgrXbOR7Scrg=\");\n_c = TrainerList;\nexport default TrainerList;\nvar _c;\n$RefreshReg$(_c, \"TrainerList\");","map":{"version":3,"names":["React","useEffect","useState","axios","SortableTable","jsxDEV","_jsxDEV","TrainerList","_s","trainers","setTrainers","fetchTrainers","response","get","validTrainers","data","filter","trainer","pwtr_rating","trainersWithName","map","index","name","fname","lname","rank","error","console","columns","key","label","render","item","toFixed","title","children","fileName","_jsxFileName","lineNumber","columnNumber","itemsPerPage","withPagination","_c","$RefreshReg$"],"sources":["/Users/alin/Documents/Saves/idiot-2/idiot/Project-Pokemon/frontend/src/components/TrainerList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport SortableTable from './SortableTable';\n\ninterface Trainer {\n    id: number;\n    fname: string;\n    lname: string;\n    pwtr_rating: number;\n    region_name: string;\n    title: string;\n    rank: number;\n    name: string;\n}\n\nconst TrainerList: React.FC = () => {\n    const [trainers, setTrainers] = useState<Trainer[]>([]);\n\n    useEffect(() => {\n        const fetchTrainers = async () => {\n            try {\n                const response = await axios.get('http://localhost:5000/trainers');\n                const validTrainers = response.data.data.filter((trainer: Trainer) => trainer.pwtr_rating !== null);\n                const trainersWithName = validTrainers.map((trainer: Trainer, index: number) => ({\n                    ...trainer,\n                    name: `${trainer.fname} ${trainer.lname}`,\n                    rank: index + 1, // Assuming trainers are sorted by rank already\n                }));\n                setTrainers(trainersWithName);\n            } catch (error) {\n                console.error('Error fetching trainers:', error);\n            }\n        };\n\n        fetchTrainers();\n    }, []);\n\n    const columns: Array<{ key: keyof Trainer, label: string, render?: (item: Trainer) => React.ReactNode }> = [\n        { key: 'rank', label: 'Rank' },\n        { key: 'name', label: 'Name' },\n        { \n            key: 'pwtr_rating', \n            label: 'Rating', \n            render: (item: Trainer) => item.pwtr_rating.toFixed(2)\n        },\n        { key: 'region_name', label: 'Region' },\n        {\n            key: 'title',\n            label: 'Title',\n            render: (item: Trainer) => (item.title !== 'None' ? item.title : ''),\n        },\n    ];\n\n    return (\n        <div>\n            <h1>PWTR List</h1>\n            <SortableTable\n                columns={columns}\n                data={trainers}\n                itemsPerPage={20}\n                withPagination={true} \n            />\n        </div>\n    );\n};\n\nexport default TrainerList;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAa5C,MAAMC,WAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAY,EAAE,CAAC;EAEvDD,SAAS,CAAC,MAAM;IACZ,MAAMU,aAAa,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,gCAAgC,CAAC;QAClE,MAAMC,aAAa,GAAGF,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACC,MAAM,CAAEC,OAAgB,IAAKA,OAAO,CAACC,WAAW,KAAK,IAAI,CAAC;QACnG,MAAMC,gBAAgB,GAAGL,aAAa,CAACM,GAAG,CAAC,CAACH,OAAgB,EAAEI,KAAa,MAAM;UAC7E,GAAGJ,OAAO;UACVK,IAAI,EAAE,GAAGL,OAAO,CAACM,KAAK,IAAIN,OAAO,CAACO,KAAK,EAAE;UACzCC,IAAI,EAAEJ,KAAK,GAAG,CAAC,CAAE;QACrB,CAAC,CAAC,CAAC;QACHX,WAAW,CAACS,gBAAgB,CAAC;MACjC,CAAC,CAAC,OAAOO,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MACpD;IACJ,CAAC;IAEDf,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMiB,OAAkG,GAAG,CACvG;IAAEC,GAAG,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC9B;IAAED,GAAG,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC9B;IACID,GAAG,EAAE,aAAa;IAClBC,KAAK,EAAE,QAAQ;IACfC,MAAM,EAAGC,IAAa,IAAKA,IAAI,CAACd,WAAW,CAACe,OAAO,CAAC,CAAC;EACzD,CAAC,EACD;IAAEJ,GAAG,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAS,CAAC,EACvC;IACID,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE,OAAO;IACdC,MAAM,EAAGC,IAAa,IAAMA,IAAI,CAACE,KAAK,KAAK,MAAM,GAAGF,IAAI,CAACE,KAAK,GAAG;EACrE,CAAC,CACJ;EAED,oBACI5B,OAAA;IAAA6B,QAAA,gBACI7B,OAAA;MAAA6B,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBjC,OAAA,CAACF,aAAa;MACVwB,OAAO,EAAEA,OAAQ;MACjBb,IAAI,EAAEN,QAAS;MACf+B,YAAY,EAAE,EAAG;MACjBC,cAAc,EAAE;IAAK;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAAC/B,EAAA,CAjDID,WAAqB;AAAAmC,EAAA,GAArBnC,WAAqB;AAmD3B,eAAeA,WAAW;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}